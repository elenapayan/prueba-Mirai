{"version":3,"sources":["components/UserForm.js","components/RoomsDetails.js","components/RoomsList.js","components/App.js","index.js"],"names":["UserForm","props","handleChangeHotel","ev","handleChange","hotelId","target","id","className","action","method","htmlFor","type","name","value","onChange","checkin","min","max","nights","to","onClick","handleSearch","RoomsDetails","roomName","offerName","boardName","occupancyAdults","occupancyChilds","occupancyBabies","netPrice","RoomsList","console","log","data","map","room","key","occupancy","numAdults","numChilds","numBabies","App","state","validatedForm","bind","this","parseInt","split","join","f","Date","year","getFullYear","toString","month","getMonth","length","day","getDate","setState","formValidated","reverse","url","preventDefault","fetch","headers","btoa","then","response","json","availableRates","Fragment","exact","path","React","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5a61f0ba.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction UserForm(props) {\n\n  function handleChangeHotel(ev) {\n    props.handleChange({\n      hotelId: ev.target.id\n    });\n  }\n\n  function handleChangeDate(ev) {\n    props.handleChange({\n      checkin: ev.target.value\n    });\n  }\n\n  function handleChangeNights(ev) {\n    props.handleChange({\n      nights: ev.target.value\n    });\n  }\n\n\n  return (\n    <form className=\"form-container\" action=\"\" method=\"get\">\n      <fieldset className=\"form-group\">\n        <div className=\"row\">\n          <legend className=\"col-form-label col-sm-2 pt-0\">Elige hotel:</legend>\n          <div className=\"col-sm-10\">\n            <div className=\"form-check\">\n              <label className=\"form-check-label\" htmlFor=\"44069509\">\n                <input\n                  type=\"radio\"\n                  className=\"form-check-input\"\n                  id=\"44069509\"\n                  name=\"hotel\"\n                  value={props.hotelId}\n                  onChange={handleChangeHotel}\n                />\n                Hotel Baqueira Val de Neu</label>\n            </div>\n            <div className=\"form-check\">\n              <label className=\"form-check-label\" htmlFor=\"10030559\">\n                <input\n                  type=\"radio\"\n                  className=\"form-check-input\"\n                  id=\"10030559\"\n                  name=\"hotel\"\n                  value={props.hotelId}\n                  onChange={handleChangeHotel}\n                />\n                Hotel Moderno</label>\n            </div>\n            <div className=\"form-check\">\n              <label className=\"form-check-label\" htmlFor=\"100376478\">\n                <input\n                  type=\"radio\"\n                  className=\"form-check-input\"\n                  id=\"100376478\"\n                  name=\"hotel\"\n                  value={props.hotelId}\n                  onChange={handleChangeHotel}\n                />\n                Hotel Grand Luxor</label>\n            </div>\n          </div>\n        </div>\n      </fieldset>\n      <div className=\"form-group row\">\n        <label className=\"col-sm-2 col-form-label\" htmlFor=\"date-checkIn\">Fecha del check-in</label>\n        <div className=\"col-sm-10\">\n          <input\n            type=\"date\"\n            className=\"form-control\"\n            id=\"date-checkIn\"\n            name=\"date-checkIn\"\n            value={props.checkin}\n            onChange={handleChangeDate}\n          />\n        </div>\n      </div>\n      <div className=\"form-group row\">\n        <label className=\"col-sm-2 col-form-label\" htmlFor=\"nights\">Número de noches</label>\n        <div className=\"col-sm-10\">\n          <input\n            type=\"number\"\n            className=\"form-control\"\n            id=\"nights\"\n            name=\"nights\"\n            min=\"1\"\n            max=\"30\"\n            value={props.nights}\n            onChange={handleChangeNights}\n          />\n        </div>\n      </div>\n      <div className=\"form-group row\">\n        <div className=\"col-sm-10\">\n          <Link to=\"/roomsList\">\n            <button type=\"button\" className=\"btn btn-primary\" onClick={props.handleSearch}>Buscar oferta más barata!</button>\n          </Link>\n        </div>\n      </div>\n    </form >\n  )\n}\n\nexport default UserForm;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction RoomsDetails(props) {\n  return (\n    <li className=\"list-group-item\">\n      <Link to=\"/\"><span>&lt;</span> Volver</Link>\n      <h3 className=\"list-group-item\">Room: {props.roomName}</h3>\n      <p className=\"list-group-item\">Offer: {props.offerName}</p>\n      <p className=\"list-group-item\">Board: {props.boardName}</p>\n      <div className=\"list-group-item\">Occupancy:\n        <p>Adults: {props.occupancyAdults}</p>\n        <p>Childs: {props.occupancyChilds}</p>\n        <p>Babies: {props.occupancyBabies}</p>\n      </div>\n      <p className=\"list-group-item\">Price: {props.netPrice}€</p>\n    </li>\n  )\n}\n\nexport default RoomsDetails;\n","import React from 'react';\nimport RoomsDetails from './RoomsDetails';\n\n\nfunction RoomsList(props) {\n  console.log(props.data);\n  if (props.data) {\n    return (\n      <ul className=\"card\">\n        {props.data.map((room, key) => {\n          return (\n            <RoomsDetails\n              key={key}\n              roomName={room.roomName}\n              offerName={room.offerName}\n              boardName={room.boardName}\n              occupancyAdults={room.occupancy.numAdults}\n              occupancyChilds={room.occupancy.numChilds}\n              occupancyBabies={room.occupancy.numBabies}\n              netPrice={room.netPrice}\n            />\n          )\n        })}\n      </ul>\n    )\n  } else {\n    return (\n      <p>Lo sentimos, no hay tarifas disponibles roomList</p>\n    )\n  }\n}\n\nexport default RoomsList;\n","import React from 'react';\nimport '../stylesheets/App.css';\n// import { fetchAPI } from '../services/DataService';\nimport { Switch, Route } from 'react-router-dom';\nimport UserForm from './UserForm';\nimport RoomsList from './RoomsList';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      hotelId: \"\",\n      checkin: \"\",\n      nights: \"\",\n      validatedForm: \"\"\n    }\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSearch = this.handleSearch.bind(this);\n  }\n  // componentDidMount() {\n  //   fetch('https://api-pre.mirai.com/MiraiWebService/availableRate/get?hotelId=10030559&checkin=05/03/2020&nights=2', {\n  //     headers: { 'Authorization': `Basic ${btoa('user1:user1Pass')}` }\n  //   })\n  //     .then((response) => response.json())\n  //     .then((data) => {\n  //       console.log('returns:', data);\n  //     });\n  // }\n\n\n  formValidated() {\n    const hotelId = this.state.hotelId;\n    const nights = parseInt(this.state.nights);\n    let checkin = this.state.checkin;\n    checkin = checkin.split(\"-\").join(\"\");\n    const f = new Date();\n    const year = (f.getFullYear()).toString();\n    let month = (f.getMonth() + 1).toString();\n    if (month.length < 2) {\n      month = \"0\" + month;\n    }\n    const day = f.getDate().toString();\n    const date = (year + month + day);\n    if (hotelId && (checkin >= date) && (nights >= 1) && (nights <= 30)) {\n      this.setState({\n        validatedForm: true\n      });\n    } else {\n      this.setState({\n        validatedForm: false\n      });\n    }\n  }\n\n  handleChange(data) {\n    this.setState(data, () => {\n      this.formValidated();\n    })\n  }\n\n  handleSearch(ev) {\n    const hotelId = parseInt(this.state.hotelId);\n    const nights = parseInt(this.state.nights);\n    const checkin = (this.state.checkin).split(\"-\").reverse().join(\"/\");\n    const url = `https://api-pre.mirai.com/MiraiWebService/availableRate/get?hotelId=${hotelId}&checkin=${checkin}&nights=${nights}`;\n    if (!!this.state.validatedForm === true) {\n      fetch(url, {\n        headers: { 'Authorization': `Basic ${btoa('user1:user1Pass')}` }\n      })\n        .then((response) => response.json())\n        .then(data => {\n          this.setState({\n            data: data.availableRates[hotelId]\n          });\n        })\n      // .catch(error => console.log(\"error\"));\n    } else {\n      ev.preventDefault();\n      return (\n        <p>Lo sentimos, no hay tarifas disponibles APP+</p>\n      )\n    }\n  }\n\n\n  render() {\n    console.log(this.state.data);\n    console.log(this.state.validatedForm)\n    return (\n      <React.Fragment>\n        <Switch>\n          <Route exact path=\"/\">\n            <UserForm handleChange={this.handleChange} hotelId={this.state.hotelId} checkin={this.state.checkin} nights={this.state.nights} handleSearch={this.handleSearch} />\n          </Route>\n          <Route exact path=\"/roomsList\">\n            <RoomsList data={this.state.data} />\n          </Route>\n        </Switch>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport { HashRouter } from 'react-router-dom';\n\n\nReactDOM.render(<HashRouter><App /></HashRouter>, document.getElementById('root'));\n"],"sourceRoot":""}